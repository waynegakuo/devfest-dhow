<div class="navigational-drills-page">
  <div class="main-content">
    <header class="page-header">
      <div class="page-title">
        <h1>üéØ Navigational Drills</h1>
        <p>AI Knowledge Challenges</p>
      </div>
      <div class="page-actions">
        <button class="btn-primary history-button" (click)="toggleHistoryModal()">
          <span class="btn-icon">üìú</span>
          <span class="btn-text">Drills History</span>
        </button>
      </div>
    </header>

    <main class="page-content">
      <div class="content-intro">
        <h2>Chart Your Course Through AI</h2>
        <p>Test your knowledge with interactive quizzes on cutting-edge AI topics. Each challenge consists of 5 multiple-choice questions generated by AI.</p>
      </div>

      @if (isLoading) {
        <div class="loading-state">
          <div class="spinner"></div>
          <p>Generating quiz questions... Please wait ‚ö°</p>
        </div>
      }

      @if (!isLoading) {
        <div class="challenges-grid">
          @for (topic of quizTopics; track topic.id) {
            <div class="challenge-card" [style.border-left-color]="topic.color">
              <div class="topic-icon" [style.color]="topic.color">{{ topic.icon }}</div>
              <div class="topic-content">
                <h3>{{ topic.name }}</h3>
                <p class="topic-description">{{ topic.description }}</p>

                <div class="difficulty-options">
                  <h4>Choose Difficulty:</h4>
                  <div class="difficulty-buttons">
                    <button
                      class="btn-secondary btn-difficulty easy"
                      (click)="startQuiz(topic, 'easy')"
                      [disabled]="isLoading">
                      <span class="btn-icon">‚≠ê</span>
                      <span class="btn-text">Easy</span>
                    </button>
                    <button
                      class="btn-ocean btn-difficulty medium"
                      (click)="startQuiz(topic, 'medium')"
                      [disabled]="isLoading">
                      <span class="btn-icon">‚≠ê‚≠ê</span>
                      <span class="btn-text">Medium</span>
                    </button>
                    <button
                      class="btn-primary btn-difficulty hard"
                      (click)="startQuiz(topic, 'hard')"
                      [disabled]="isLoading">
                      <span class="btn-icon">‚≠ê‚≠ê‚≠ê</span>
                      <span class="btn-text">Hard</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          }
        </div>
      }

      <div class="quiz-info">
        <div class="info-card">
          <h3>üß≠ How It Works</h3>
          <ul>
            <li>Choose a topic and difficulty level</li>
            <li>Answer 5 AI-generated multiple-choice questions</li>
            <li>Get instant feedback and explanations</li>
            <li>Track your progress in your navigator profile</li>
            <li>Achieve 70% or higher to pass each challenge</li>
          </ul>
        </div>

        <div class="info-card">
          <h3>üèÜ Topics Covered</h3>
          <ul>
            <li><strong>Gemma:</strong> Google's lightweight language models</li>
            <li><strong>Genkit:</strong> Firebase AI application framework</li>
            <li><strong>Firebase AI:</strong> Cloud-based AI extensions</li>
            <li><strong>Vertex AI:</strong> Google Cloud's ML platform</li>
            <li><strong>Agent Development Kit:</strong> Tools and best practices</li>
          </ul>
        </div>
      </div>
    </main>
  </div>

  <!-- History Modal -->
  @if (showHistoryModal()) {
    <div class="modal-overlay">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Navigational Drills History</h2>
          <button class="modal-close" (click)="toggleHistoryModal()">√ó</button>
        </div>
        <div class="modal-body">
          <app-quiz-history></app-quiz-history>
        </div>
      </div>
    </div>
  }
</div>
